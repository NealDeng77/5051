@using _5051.Backend
@model _5051.Models.ApplicationUser
@{
    ViewBag.Title = "UserInfo";
}
<br />
<h2>UserInfo</h2>

@{
    if (Model == null)
    {
        <p>No valid user given</p>
    }
    else
    {
        <h4>@Model.UserName</h4>

        if (IdentityDataSourceTable.Instance.UserHasClaimOfValue(Model.Id, "StudentUser", "True"))
        {
            <h5>User is a Student</h5>
        }
        else
        {
            <h5>User is not a Student</h5>
        }
        @Html.ActionLink("Toggle Student", "ToggleStudent", "Support", routeValues: new { id = Model.Id }, htmlAttributes: new {@class="btn btn-primary" , id = "StudentToggleBtn" });
        <br />
        <br />

        if (IdentityDataSourceTable.Instance.UserHasClaimOfValue(Model.Id, "TeacherUser", "True"))
        {
            <h5>User is a Teacher</h5>
        }
        else
        {
            <h5>User is not a Teacher</h5>
        }
        @Html.ActionLink("Toggle Teacher", "ToggleTeacher", "Support", routeValues: new { id = Model.Id }, htmlAttributes: new {@class="btn btn-primary", id = "TeacherToggleBtn" });
        <br />
        <br />

        if (IdentityDataSourceTable.Instance.UserHasClaimOfValue(Model.Id, "SupportUser", "True"))
        {
            <h5>User is a Support User</h5>
        }
        else
        {
            <h5>User is not a Support User</h5>
        }
        @Html.ActionLink("Toggle Support User", "ToggleSupport", "Support", routeValues: new { id = Model.Id }, htmlAttributes: new {@class="btn btn-primary", id = "SupportToggleBtn" });
        <br />
        <br />

        <h5>Delete this user?</h5>
        @Html.ActionLink("Delete the user", "DeleteUser", "Support", routeValues: new { id = Model.Id}, htmlAttributes: new { @class="btn btn-primary", id = "DeleteUserBtn"})
    }
}
